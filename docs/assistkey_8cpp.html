<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Final assignment of RT1: src/assistkey.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Final assignment of RT1
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation of Final assignment of RT1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">assistkey.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Node to drive the robot with the keyboard in assisted mode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;sensor_msgs/LaserScan.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Twist.h&quot;</code><br />
<code>#include &lt;termios.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for assistkey.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="assistkey_8cpp__incl.png" border="0" usemap="#src_2assistkey_8cpp" alt=""/></div>
<map name="src_2assistkey_8cpp" id="src_2assistkey_8cpp">
<area shape="rect" title="Node to drive the robot with the keyboard in assisted mode." alt="" coords="241,5,371,32"/>
<area shape="rect" title=" " alt="" coords="5,80,84,107"/>
<area shape="rect" title=" " alt="" coords="109,80,298,107"/>
<area shape="rect" title=" " alt="" coords="322,80,498,107"/>
<area shape="rect" title=" " alt="" coords="523,80,607,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae93f1df5aa671199e8eb496b90dff556"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#ae93f1df5aa671199e8eb496b90dff556">min_value</a> (double array[])</td></tr>
<tr class="memdesc:ae93f1df5aa671199e8eb496b90dff556"><td class="mdescLeft">&#160;</td><td class="mdescRight">min_value function  <a href="assistkey_8cpp.html#ae93f1df5aa671199e8eb496b90dff556">More...</a><br /></td></tr>
<tr class="separator:ae93f1df5aa671199e8eb496b90dff556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959bf11cfdda0a0c7745db19bf5dcc8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#a959bf11cfdda0a0c7745db19bf5dcc8a">detecting_wall</a> (const sensor_msgs::LaserScan::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a959bf11cfdda0a0c7745db19bf5dcc8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">detecting_wall function  <a href="assistkey_8cpp.html#a959bf11cfdda0a0c7745db19bf5dcc8a">More...</a><br /></td></tr>
<tr class="separator:a959bf11cfdda0a0c7745db19bf5dcc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb154db3cd3ce86c8352644ab841f83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#a3eb154db3cd3ce86c8352644ab841f83">quick_input</a> (void)</td></tr>
<tr class="memdesc:a3eb154db3cd3ce86c8352644ab841f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">quick_input function  <a href="assistkey_8cpp.html#a3eb154db3cd3ce86c8352644ab841f83">More...</a><br /></td></tr>
<tr class="separator:a3eb154db3cd3ce86c8352644ab841f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76fc5d91d393003162eadc16076a3b78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#a76fc5d91d393003162eadc16076a3b78">take_input</a> ()</td></tr>
<tr class="memdesc:a76fc5d91d393003162eadc16076a3b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">take_input function  <a href="assistkey_8cpp.html#a76fc5d91d393003162eadc16076a3b78">More...</a><br /></td></tr>
<tr class="separator:a76fc5d91d393003162eadc16076a3b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function.  <a href="assistkey_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adde9f51ddf0fb5c82c57b4075b6e9400"><td class="memItemLeft" align="right" valign="top"><a id="adde9f51ddf0fb5c82c57b4075b6e9400"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#adde9f51ddf0fb5c82c57b4075b6e9400">publisher</a></td></tr>
<tr class="memdesc:adde9f51ddf0fb5c82c57b4075b6e9400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global publisher for the velocity. <br /></td></tr>
<tr class="separator:adde9f51ddf0fb5c82c57b4075b6e9400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d682690ea8f4bbf19f8d3edbc31301"><td class="memItemLeft" align="right" valign="top"><a id="ad3d682690ea8f4bbf19f8d3edbc31301"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#ad3d682690ea8f4bbf19f8d3edbc31301">wall_th</a> = 0.9</td></tr>
<tr class="memdesc:ad3d682690ea8f4bbf19f8d3edbc31301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable to maintain a certain distance from the wall. <br /></td></tr>
<tr class="separator:ad3d682690ea8f4bbf19f8d3edbc31301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad279bd6530379e322bee0da315c7e463"><td class="memItemLeft" align="right" valign="top"><a id="ad279bd6530379e322bee0da315c7e463"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#ad279bd6530379e322bee0da315c7e463">linear_vel</a> = 0</td></tr>
<tr class="memdesc:ad279bd6530379e322bee0da315c7e463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for linear velocity. <br /></td></tr>
<tr class="separator:ad279bd6530379e322bee0da315c7e463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6985bdbdb91cd61ca46fe35f51c4c7a7"><td class="memItemLeft" align="right" valign="top"><a id="a6985bdbdb91cd61ca46fe35f51c4c7a7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#a6985bdbdb91cd61ca46fe35f51c4c7a7">angular_vel</a> = 0</td></tr>
<tr class="memdesc:a6985bdbdb91cd61ca46fe35f51c4c7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for angular velocity. <br /></td></tr>
<tr class="separator:a6985bdbdb91cd61ca46fe35f51c4c7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc6e6f3c75c509ce943163afb5dade7"><td class="memItemLeft" align="right" valign="top"><a id="a6dc6e6f3c75c509ce943163afb5dade7"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#a6dc6e6f3c75c509ce943163afb5dade7">speed</a> = 0.4</td></tr>
<tr class="memdesc:a6dc6e6f3c75c509ce943163afb5dade7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for speed. <br /></td></tr>
<tr class="separator:a6dc6e6f3c75c509ce943163afb5dade7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b28d6b588b124dc762dc9a3c29619e"><td class="memItemLeft" align="right" valign="top"><a id="ae9b28d6b588b124dc762dc9a3c29619e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#ae9b28d6b588b124dc762dc9a3c29619e">turn_speed</a> = 1.1</td></tr>
<tr class="memdesc:ae9b28d6b588b124dc762dc9a3c29619e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for turn speed. <br /></td></tr>
<tr class="separator:ae9b28d6b588b124dc762dc9a3c29619e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af113e9b4ca3af68972dfd3df47898c83"><td class="memItemLeft" align="right" valign="top"><a id="af113e9b4ca3af68972dfd3df47898c83"></a>
geometry_msgs::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="assistkey_8cpp.html#af113e9b4ca3af68972dfd3df47898c83">vel</a></td></tr>
<tr class="memdesc:af113e9b4ca3af68972dfd3df47898c83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for the toal velocity. <br /></td></tr>
<tr class="separator:af113e9b4ca3af68972dfd3df47898c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Node to drive the robot with the keyboard in assisted mode. </p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Benedetti </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>12/04/2022</dd></dl>
<p>Subscribes to: <br  />
 /scan</p>
<p>Publishes to: <br  />
 /cmd_vel</p>
<p>Description : Publishes to: <br  />
 /cmd_vel</p>
<p>Description :</p>
<p>The assistkey node is basically identical to the previous one, but the only difference is very important: the user can drive the robot, thanks to the keyboard, inside the environment, but it must avoid all the possible collisions. In fact the robot should not go forward if there is an obstacle in the front and should not turn left/right if there are obstacles on the left/right. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a959bf11cfdda0a0c7745db19bf5dcc8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a959bf11cfdda0a0c7745db19bf5dcc8a">&#9670;&nbsp;</a></span>detecting_wall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void detecting_wall </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::LaserScan::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>detecting_wall function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The param is related to the varibales that the robot gives through its laser. <br  />
</td></tr>
  </table>
  </dd>
</dl>
<p>The function checks the walls on the right, left and in front of it thanks to the scanner of the robot, checking if the robot is close to a wall. </p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>An integer argument count of the command line arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>An argument vector of the command line arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer 0 upon exit success.</dd></dl>
<p>The Main function contain the core of the project. </p>

</div>
</div>
<a id="ae93f1df5aa671199e8eb496b90dff556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93f1df5aa671199e8eb496b90dff556">&#9670;&nbsp;</a></span>min_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double min_value </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>array</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>min_value function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>An array that contains the distances between the robot and the obstacles. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A parameter that represents the minimum value of that array.</dd></dl>
<p>The function returns the minumim value of a given array and it is needed to return the minimum distance from the robot to the wall considered in that particular subsection (front, left, right). <br  />
 </p>

</div>
</div>
<a id="a3eb154db3cd3ce86c8352644ab841f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb154db3cd3ce86c8352644ab841f83">&#9670;&nbsp;</a></span>quick_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int quick_input </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>quick_input function </p>
<dl class="section return"><dt>Returns</dt><dd>The integer n that takes into account the button selected in the keyboard.</dd></dl>
<p>The quick_input function is a function needed to avoid to press enter every time the user press a button on the keyboard. </p>

</div>
</div>
<a id="a76fc5d91d393003162eadc16076a3b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76fc5d91d393003162eadc16076a3b78">&#9670;&nbsp;</a></span>take_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void take_input </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>take_input function </p>
<p>The take_input function is a function needed to avoid to take the input and compute the correct driving beahviour. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
